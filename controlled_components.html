<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Controlled Components</title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <div id="opening"></div>
    <div id="root"></div>
    <div id="footer"></div>
       

    <script type="text/babel">
    	class NameForm extends React.Component {
			  constructor(props) {
			    super(props);
			    this.state = {value: ''};
			
			    this.handleChange = this.handleChange.bind(this);
			    this.handleSubmit = this.handleSubmit.bind(this); // cf. Aside:Events
			    this.handleKey = this.handleKey.bind(this);
        }

			  handleChange(event) {
			    this.setState({value: event.target.value});
			  }
			  handleKey(event) {
			    ReactDOM.render(
            <h1>Hello, {this.state.value}!</h1>,
            document.getElementById('footer')
          );
			  }
			  clear(){
			    ReactDOM.render(
            <h1></h1>,
            document.getElementById('footer')
          );
			  }
	
			  handleSubmit(event) {
			     alert('A name was submitted: ' + this.state.value);
           event.preventDefault();
           this.clear();
			  }

			  render() {
			    return (
			      <form onSubmit={this.handleSubmit}>
			        <label>
			          Name:
			          <input type="text" value={this.state.value} onChange={this.handleChange} onKeyUp={this.handleKey} />
			        </label>
			        <input type="submit" value="Submit" />
			      </form>
			    );
			  }
			}
			
				// Nameform
      ReactDOM.render(
        <NameForm />,
        document.getElementById('root')
      );
			
			// Standard HTML5 from "Hello, world"
      ReactDOM.render(
        <h1>Hello, world!</h1>,
        document.getElementById('opening')
      );


    </script>
  </body>
</html>
